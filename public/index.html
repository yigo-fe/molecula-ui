<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./antd.min.css">
  <!-- <link rel="stylesheet" href="./ok-ant-department-search.css"> -->
  <!-- <link rel="stylesheet" href="./ok-ant-person-select.css"> -->
  <link rel="stylesheet" href="./iconfont/iconfont.css">
  <link rel="stylesheet" href="./common.css">
  <title>ok-wc-ui</title>
  <style>
    #app {
      /* height: 2000px; */
      /* width: 2000px; */
      /* background-color: rgb(37, 216, 171); */
      display: flex;
      align-items: center;
      justify-content: center;
    }
    main {
      margin-top: 100px;
      /* width: 600px; */
      /* height: 600px; */
    }
    .divider {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <!-- <link rel="stylesheet" href="https://unpkg.com/element-plus/lib/theme-chalk/index.css"> -->
<!-- 引入组件库 -->
<!-- <script src="https://unpkg.com/element-plus/lib/index.full.js"></script> -->
  <div id="app">
    <main>

       

      <div class="divider">
        <button onclick="testClick()">test</button>
        <button onclick="testClick2()">test2</button>
      </div>

      <h3>部门选择 input </h3>
      <ok-department-select class="divider ok-department-input" placeholder="请选择部门" style="width: 200px;display: block;"></ok-department-select>
      <ok-department-select mode="tree" class="divider ok-department-tree" placeholder="请选择部门" style="width: 200px;display: block;"></ok-department-select>


      <h3>人员选择select-antd</h3>
      <ok-employee-select class="divider ok-employee-input" placeholder="请选择1" style="width: 200px;display: block;"></ok-employee-select>

      <!-- <ok-employee-select class="divider ok-employee-input2" placeholder="请选择2" style="width: 200px;display: block;"></ok-employee-select> -->

      <h3>人员选择tree</h3>
      <ok-employee-select class="divider ok-employee-tree" mode="tree" placeholder="请选择3" style="width: 300px;display: block;"></ok-employee-select>

      <ok-ant-person-select></ok-ant-person-select>
      <!-- <ok-person-detail></ok-person-detail> -->
      <!-- <ok-person-group></ok-person-group> -->
      <!-- <ok-ant-person-select></ok-ant-person-select> -->
      <!-- <ok-ant-department-search></ok-ant-department-search> -->

      <!-- 人员图像 -->
      <ok-avatar></ok-avatar>
      <!-- 人员卡片 -->
      <ok-person-cell class="person-cell"></ok-person-cell>
      <!-- 多人员list -->
      <ok-person-group ></ok-person-group>

      <!-- <ok-person-card></ok-person-card> -->
 

      <section  class="divider upload-demo">
        <h3>列表上传</h3>
        <ok-upload-list></ok-upload-list>

        <h3>明细字表上传</h3>
        <div style="display:block;">
          <ok-upload-subtable-file style="display:block; width: 300px;"></ok-upload-subtable-file>

        </div>
        <h3>明细字表上传 - image</h3>
        <ok-upload-subtable-image style="display:block;width: 300px;" class="ok-upload-subtable-image"></ok-upload-subtable-image>

        <h3>列表上传 slot </h3>
        <!-- <ok-upload-list style="width: 500px; display: block; font-size: 0;">
          <div style="width: 100%;height: 150px; font-size: 14px;display: block; border: 1px solid red;">这里是slot</div>
        </ok-upload-list> -->
        
        <!-- <h3>拖拽上传 slot</h3>
        <ok-upload-drag style="width: 500px; display: block; font-size: 0;"> 
          <div style="width: 100%;height: 150px; font-size: 14px;display: block; border: 1px solid red;">这里是slot</div>
        </ok-upload-drag> -->
        
        <h3>拖拽上传</h3>
        <ok-upload-drag style="width: 500px; display: block; font-size: 0;"></ok-upload-drag>

        <h3>antd</h3>
        <!-- <ok-attachment-drag></ok-attachment-drag>  -->

        <h3>图片上传</h3>
        <ok-upload-image style="width: 500px; display: block;"></ok-upload-image>


        <!-- <h3>图片上传 slot</h3> -->
        <!-- <ok-upload-image style="width: 500px; display: block; font-size: 0;">
          <div style="width: 200px;height: 200px; font-size: 14px;display: block; border: 1px solid red;">这里是slot</div>

        </ok-upload-image> -->

      </section>

      <!-- <h3>文字多时</h3> -->
      <!-- <div style="width: 200px;border: 1px solid #ccc;margin-bottom: 20px;">
        <ok-tooltip title="text-文字多时，鼠标滑上显示文字多时，鼠标滑上显示文字多时，鼠标滑上显示" >
          默认插槽-text，这里有很多很多很多很多很多很多很多很多很多很多很多很多很多很多很多很多文字
        </ok-tooltip>
      </div> -->

      <!-- <h3>button</h3> -->
      <!-- <ok-button></ok-button> -->

      
    </main>
  </div>
  <!-- <script type="module" src="../dist/ok-wc-ui.umd.js"></script> -->
  <script>
    // success
	// cv3vj7pldi1gxo65

  // 'app_id': 'app_imvtxorkbj',
  //     'form_key': 'form_0wdfaktbsv',
  //     'element_id': 'c8k95352g4qmvurx'

    var action = 'https://huawei.yigowork.com/apps/api/v1/private/attachment/uploadAttachments'
    var actionImg = 'https://huawei.yigowork.com/apps/api/v1/private/attachment/uploadImages'
    var uploadData = {
      deletable: false,
      'app_id': 'app_7h13wiammq',
      'form_key': 'form_molm8sjngo',
      'element_id': 'ck6bmtiqjnks36em'
    }




    const personInfo = {
      avatar_url: "https://wework.qpic.cn/bizmail/cMLFZrYGchIibX5icVTGibh7b2oELMc9MsJYDiaCNNmTYREjGVRjlsq3mA/0",
      department_id: "30",
      department_name: "前端部",
      email: "fujing@byteluck.com",
      employee_card: "工号",
      employee_en_name: "付静",
      employee_id: "FuJing",
      employee_name: "付静",
      gender: 2,
      msg_relation_type: "WX",
      tenant_id: "test"
    }


    const personList =[{
      avatar_url: "https://wework.qpic.cn/bizmail/cMLFZrYGchIibX5icVTGibh7b2oELMc9MsJYDiaCNNmTYREjGVRjlsq3mA/0",
      department_id: "30",
      department_name: "前端部",
      email: "fujing@byteluck.com",
      employee_card: "工号",
      employee_en_name: "付静",
      employee_id: "FuJing",
      employee_name: "付静",
      gender: 2,
      msg_relation_type: "WX",
      tenant_id: "test"
    }, {
      avatar_url: "https://wework.qpic.cn/bizmail/cMLFZrYGchIibX5icVTGibh7b2oELMc9MsJYDiaCNNmTYREjGVRjlsq3mA/0",
      department_id: "30",
      department_name: "前端部",
      email: "fujing@byteluck.com",
      employee_card: "工号",
      employee_en_name: "付静",
      employee_id: "FuJing1",
      employee_name: "付静",
      gender: 2,
      msg_relation_type: "WX",
      tenant_id: "test"
    }] 




    window.onload = ()=>{
      const okAvatar = document.querySelector('ok-avatar')
      okAvatar.personInfo = personInfo

      const okPersonCell = document.querySelector('ok-person-cell')
      okPersonCell.personInfo = personInfo

      const okUpload = document.querySelector('ok-upload-drag')
      okUpload.multiple = true
      okUpload.noBorder = true
      // okUpload.data = uploadData
      // okUpload.operation = ['preview']
      // okUpload.hideUploader = true
      // okUpload.disabled = true
      // okUpload.limit = 3
      okUpload.onExceed = ()=>{
        console.log('附件超出了')
      }
      okUpload.update = (data)=>{
        const fileIds = data.fileLists
                              .map((v) => v.response?.data?.[0]?.file_id)
                              .filter((v) => v)
        console.log('okUpload - update', fileIds)
        okUpload.fileList = fileIds

      }


      const okUploadSubtable = document.querySelector('ok-upload-subtable-file')
      // okUploadSubtable.action = action
      // okUploadSubtable.data = uploadData
      okUploadSubtable.multiple = true
      // okUploadSubtable.disabled = true
      // okUploadSubtable.operation = ['download']
      // okUploadSubtable.hideUploader = true
      okUploadSubtable.update = (data)=>{
        console.log('file', data)
      }

      const okUploadSubtableImage = document.querySelector('.ok-upload-subtable-image')
      // okUploadSubtable.action = action
      // okUploadSubtable.data = uploadData
      okUploadSubtableImage.multiple = true
      okUploadSubtableImage.type = 'image'
      // okUploadSubtable.disabled = true
      // okUploadSubtable.operation = ['download']
      // okUploadSubtable.hideUploader = true
      okUploadSubtableImage.update = (data)=>{
        console.log('image', data)
      }



      

      const okUploadList = document.querySelector('ok-upload-list')
      // okUploadList.action = action
      // okUploadList.data = uploadData
      okUploadList.multiple = true
      // okUploadList.disabled = true
      okUploadList.operation = ['download']
      // okUploadList.hideUploader = true


      const okUploadImg = document.querySelector('ok-upload-image')
      // okUploadImg.action = actionImg
      okUploadImg.multiple = true
      okUploadImg.limit = 3
      okUploadImg.noBorder = true
      okUploadImg.onExceed = ()=>{
        console.log('图片超出了')
      }
      // okUploadImg.disabled = true
      okUploadImg.thumbStyle = {
        width: '150px',
        height: '150px'
      }

      okUploadImg.imageStyle = {
        display: 'block'
      }

      

      // okUploadImg.disabled = true
      // okUploadImg.operation = ['remove']
      // okUploadImg.hideUploader = true

      // const okAttachmentDrag = document.querySelector('ok-attachment-drag')
      // okAttachmentDrag.action = action
      // okAttachmentDrag.data = uploadData

      const okPersonGroup = document.querySelector('ok-person-group')
      okPersonGroup.personList = personList

      // const okPersonCell = document.querySelector('ok-person-cell')
      // okPersonCell.personInfo = personInfo

      // const okPersonCard = document.querySelector('ok-person-card')
      // okPersonCard.personInfo = personInfo

      okUploadImg.update = (data)=>{
        const fileIds = data.fileLists
                          .map((v) => v.response?.data?.[0]?.file_id)
                          .filter((v) => v)
        console.log('okUploadImg - update', fileIds)
        okUploadImg.fileList = fileIds

      }


      const okDeptInput = document.querySelector('.ok-department-input')
      okDeptInput.value = ['13','14', '17', '18', '19']
      okDeptInput.multiple = true
      // okDeptInput.disabled = true
      okDeptInput.update = (val, list)=>{
        console.log('dept-input-update-index',val, list)
        // okDeptInput.value = val
      }

      const okDeptTree = document.querySelector('.ok-department-tree')
      okDeptTree.value = ['13','14', '17', '18', '19']
      okDeptTree.multiple = true
      // okDeptTree.disabled = true
      okDeptTree.update = (val, list)=>{
        console.log('dept-tree-update-index',val, list)
        // okDeptTree.value = val
      }


      const okEmployeeTree = document.querySelector('.ok-employee-tree')
      okEmployeeTree.value = ['LiTao']
      // okEmployeeTree.disabled = true
      okEmployeeTree.multiple = true
      // okEmployeeTree.range = ['FuJing',"FanShuai", "LiTao", 'FengHaiLi','ZhangKaiMing', 'WangChao', 'WangYiJie']
      okEmployeeTree.update = (val, list)=>{
        console.log('employee-tree-update-index',val, list)
        okEmployeeTree.value = val
      }


      const okEmployeeInput = document.querySelector('.ok-employee-input')
      okEmployeeInput.value = ["FuJing"]
      // okEmployeeInput.value = []
      // okEmployeeInput.multiple = true
      // okEmployeeInput.borderless = true
      // okEmployeeInput.disabled = true
      // okEmployeeInput.range = ['FuJing',"FanShuai", "LiTao", 'FengHaiLi','ZhangKaiMing', 'WangChao', 'WangYiJie']
      okEmployeeInput.update = (val, list)=>{
        console.log('update-index',val,list)
        // okEmployeeInput.value = val
      }

      // const okEmployeeInput2 = document.querySelector('.ok-employee-input2')
      // // okEmployeeInput2.value = ["FanShuai"]
      // okEmployeeInput2.multiple = true
      // // okEmployeeInput2.disabled = true
      // // okEmployeeInput2.range = ["FanShuai", "LiTao", 'FengHaiLi','ZhangKaiMing']
      // okEmployeeInput2.update = (val, list)=>{
      //   console.log('okEmployeeInput2 -update-index',val, list)
      //   okEmployeeInput2.value = val
      // }


      // setTimeout(()=>{
      //   console.log('set')

      //   const okEmployeeInput = document.querySelector('.ok-employee-input')
      //   okEmployeeInput.value = ["FengHaiLi"]
      //   const okEmployeeInput2 = document.querySelector('.ok-employee-input2')
      // okEmployeeInput2.value = ["LiTao"]
      // }, 1000)


    }

    function testClick (){
      // setTimeout(()=>{
      //   const okEmployeeInput = document.querySelector('.ok-employee-input')
      //   okEmployeeInput.multiple = true 

      //   // const okEmployeeTree = document.querySelector('.ok-employee-tree')
      //   // okEmployeeTree.multiple = true 

      // }, 500)

        const okEmployeeInput = document.querySelector('.ok-employee-input')
      okEmployeeInput.value = ['FengHaiLi'] 
  
      // const okEmployeeTree = document.querySelector('.ok-employee-tree')
      // okEmployeeTree.value = ['FuJing'] 



      // const okEmployeeInput2 = document.querySelector('.ok-employee-input2')
      // okEmployeeInput2.value = ['FuJing'] 

      const okDeptInput = document.querySelector('.ok-department-input')
      // okDeptInput.value = ['13','14', '17', '18', '19']
      okDeptInput.value = ['18']
      
    }

    function testClick2 (){
      const okEmployeeInput = document.querySelector('.ok-employee-input')
      okEmployeeInput.value = [] 

      // const okEmployeeTree = document.querySelector('.ok-employee-tree')
      // okEmployeeTree.value = [] 


      // const okEmployeeInput2 = document.querySelector('.ok-employee-input2')
      // okEmployeeInput2.value = [] 

      const okDeptInput = document.querySelector('.ok-department-input')
      okDeptInput.value = []

    }



  </script>
</body>
</html>
